{%extends 'base.html' %}
{% load static %}
{% block content%}
<script
src="https://code.jquery.com/jquery-3.5.1.min.js"
integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
crossorigin="anonymous"></script>
<script src="{% static 'js/bin/jquery.waypoints.min.js' %}"></script>
<script src="{% static 'js/bin/infinite.min.js' %}"></script>

<section class="home">

    <!-- Listings start-->
    <div class="titles">
     <h2>{{ title }}</h2>
    </div>

    {% if not blog%}
    <h5>No blogs found</h5>
    {% endif %}


   
    <div class="wrapCard row infinite-container ">
      {% for b in blog%}
    <!-- Card -->
    <div class="pCard col s6 m4 infinite-item">
      <div class="pCard__image " >
        <a href="{%  url 'blogs:single-blog' b.slug %}" class="pCard__imageWrap">
        <img src="{{b.photo.url}}">
        </a>
      </div>
      <a href="{% url 'blogs:single-blog' b.slug %}">
        <h5 style="margin-top: 10px;margin-bottom: 20px;">{{b.title}}</h5>
     </a>
    </div>
    <!-- End of Card -->

    {%endfor%}
 
 
     
   </div>
   
    <!-- Listings end-->


  <div class="infinite-loading" style="display: none;">
    Loading...
  </div>

  {% if page_obj.has_next %}
    <a class="infinite-more-link" href="?page={{ page_obj.next_page_number }}">More</a>
  {% endif %}


   

   </section>

   <script>
    var infinite = new Waypoint.Infinite({
      element: $('.infinite-container')[0],
      onBeforePageLoad: function () {
        $('.loading').show();
      },
      onAfterPageLoad: function ($items) {
        $('.loading').hide();
      }
    });
  </script>



  {%endblock content%}